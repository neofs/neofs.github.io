<body><script>Object.defineProperties(Object.prototype, { PIPE: { value: function (f) { return f(this) } }, WITH: { value: function (f) { f(this); return this } }, THEN: { value: function (f) { return this.then(f) } }, WAIT: { value: function (f) { return this.then(async v => { await f(v); return v }) } }, LAZY: { value: function (f) { return this instanceof Promise ? this.then(f).then(v => v ?? this) : f(this) ?? this } } }).LAZY(_ => ({})).LAZY(G => { G.ELE = _ => document.createElement(_).LAZY(_ => { _.style.width = '100%' }) }).LAZY(G => { G.ITM = { 0: "Any", 16: "Boolean", 17: "Integer", 18: "ByteString", 19: "String", 20: "Address", 21: "Uint256", 22: "ECPoint", 255: "void", } }).LAZY(G => addEventListener('NEOLine.N3.EVENT.READY', _ => G.NL3 = new NEOLineN3.Init())).LAZY(G => { G.CTR = _ => G.NL3.invokeRead({ scriptHash: '0xfffdc93764dbaddd97c48f252a53ea4643faa3fd', operation: 'getContract', args: [{ type: 'Hash160', value: _ }], signers: [] }).LAZY(({ stack: [{ value: [, , , , { value: [, , , , { value: [{ value }] }] }] }] }) => value) }).LAZY(G => { G.PAR = _ => { switch (_.slice(0, 8)) { case '##JSON##': return JSON.parse(_.slice(8)); case '##TEXT##': return _.slice(8); default: return _; } } }).LAZY(G => { G.PMT = _ => G.PAR(prompt(_)) }).LAZY(G => { G.UPD = INPUT => G.ELE('select').LAZY(_ => { INPUT.disabled = true }).LAZY(sel => G.CTR(INPUT.value).LAZY(_ => _.forEach(({ value: [{ value: name }] }) => sel.appendChild(G.ELE('option').LAZY(_ => { _.value = atob(name) }).LAZY(_ => { _.innerText = atob(name) })))).LAZY(value => ((txt, f, post) => G.ELE('button').LAZY(_ => { _.innerText = txt }).LAZY(_ => { _.onclick = () => G.NL3.getAccount().then(({ address }) => f({ scriptHash: INPUT.value, operation: sel.value, args: value.find(({ value: [{ value }] }) => atob(value) === sel.value).value[1].value.map(({ value: [{ value: name }, { value: type }] }, i) => ({ type: G.ITM[type], value: G.PMT(`ENTER ${i + 1}-th ARG [NAME: ${atob(name)}] (TYPE: ${G.ITM[type]}) OF FUNC ${sel.value}:`) })), signers: [{ account: address, scopes: 1 }] }).LAZY(post)).catch(_ => console.log(_).LAZY(_ => alert('ERROR'))) })).LAZY(_ => { document.body.replaceChildren(INPUT, sel, _('TRY', G.NL3.invokeRead, _ => confirm(`STATE: ${_.state}\nSTACK: ${JSON.stringify(_.stack)}\nCOPY STACK TO CLIPBOARD?`) ? setTimeout(() => navigator.clipboard.writeText(JSON.stringify(_.stack))) : void 0), _('TX', G.NL3.invoke, _ => { })) })).finally(() => INPUT.disabled = false)) }).LAZY(G => { document.body.replaceChildren(G.ELE('input').LAZY(_ => { _.placeholder = 'ENTER CONTRACT SCRIPTHASH AND CLICK ANYWHERE OUTSIDE' }).LAZY(_ => { _.onblur = () => G.UPD(_) })) })</script></body>
